!function(){var r=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){r=!0}}))}catch(e){}var t=document.getElementsByClassName("openemm-form"),n=!1;function o(e){if(!n)return n=window.requestAnimationFrame(o);!isNaN(parseFloat(e))&&isFinite(e)&&(Array.prototype.forEach.call(t,function(s){if(Array.prototype.forEach.call(s.querySelectorAll('input[type="text"], select'),function(t){for(var e=t.parentElement;e.className.split(/ +/).indexOf("form-item")<0&&e.parentElement;)e=e.parentElement;if(e.parentElement){var n=t.previousElementSibling;if(n&&"label"===n.tagName.toLowerCase()){var i=window.getComputedStyle(t);if(n.style.lineHeight=t.offsetHeight+"px",n.style.paddingLeft=parseInt(i.paddingLeft)+parseInt(i.borderLeftWidth)+"px",e.className.split(/ +/).indexOf("has-label-placeholder")<0){var a=e.className.trim().split(/ +/);e.className=a.join(" ")+" has-label-placeholder",["input","change","blur"].forEach(function(e){t.addEventListener(e,function(){n.style.display=t.value.trim()?"none":""},!!r&&{passive:!0})}),t.dispatchEvent(new Event("blur",{bubbles:!0}))}}}}),s.className.split(/ +/).indexOf("ajaxify")<0){s.addEventListener("submit",function(e){e.preventDefault(),Array.prototype.forEach.call(s.querySelectorAll(".success, .error"),function(e){var t=e.className.trim().split(/ +/);if(0<=t.indexOf("note")||0<=t.indexOf("message"))return e.style.display="none";e.className=t.filter(function(e){return["success","error"].indexOf(e)<0}).join(" ")});var t=s.className.trim().split(/ +/);if(!(0<=t.indexOf("submitting"))){t.push("submitting"),s.className=t.join(" ");for(var n=new FormData(this).entries(),i=[],a=n.next();void 0!==a.value;)i.push(encodeURIComponent(a.value[0])+"="+encodeURIComponent(a.value[1])),a=n.next();var r=window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;r&&(r.addEventListener("loadend",function(){var e=s.className.trim().split(/ +/);s.className=e.filter(function(e){return"submitting"!=e}).join(" ")}),r.addEventListener("error",function(){}),r.addEventListener("load",function(){var e;try{e=JSON.parse(this.responseText);var t=document.createElement("p");t.className="message "+e.type||"status",t.innerHTML=e.message,s.appendChild(t)}catch(e){}e||(s.innerHTML=this.responseText,o())}),r.open("POST",s.getAttribute("action")||"/openemm/submit"),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(i.join("&").replace(/%20/g,"+")))}},!1);var e=s.className.trim().split(/ +/);s.className=e.join(" ")+" ajaxify"}}),n=!1)}o(),window.addEventListener("load",o,!!r&&{passive:!0}),window.addEventListener("resize",o,!!r&&{passive:!0})}(),
// MIT license
function(){for(var r=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-r)),a=window.setTimeout(function(){e(n+i)},i);return r=n+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();